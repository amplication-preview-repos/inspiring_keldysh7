datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Genre {
  createdAt DateTime @default(now())
  id        String   @id @default(cuid())
  movies    Movie[]
  name      String?
  updatedAt DateTime @updatedAt
}

model Movie {
  createdAt          DateTime  @default(now())
  description        String?
  genre              Genre?    @relation(fields: [genreId], references: [id])
  genreId            String?
  id                 String    @id @default(cuid())
  movieDescription   String?
  movieDescriptionX1 String?
  movieGenre         String?
  movieRating        Float?
  movieRatingX1      Float?
  movieReleaseDate   DateTime?
  movieReleaseDateX1 DateTime?
  movieTitle         String?
  posterUrl          String?
  rating             Float?
  releaseDate        DateTime?
  reviews            Review[]
  title              String?
  updatedAt          DateTime  @updatedAt
}

model Review {
  content       String?
  createdAt     DateTime @default(now())
  id            String   @id @default(cuid())
  movie         Movie?   @relation(fields: [movieId], references: [id])
  movieId       String?
  movieReviewed String?
  rating        Float?
  reviewContent String?
  reviewedMovie String?
  reviewer      String?
  reviewRating  Float?
  updatedAt     DateTime @updatedAt
  user          User?    @relation(fields: [userId], references: [id])
  userId        String?
  userReviewer  String?
}

model User {
  createdAt DateTime @default(now())
  email     String?  @unique
  firstName String?
  fullName  String?
  id        String   @id @default(cuid())
  lastName  String?
  password  String
  reviews   Review[]
  roles     Json
  updatedAt DateTime @updatedAt
  username  String   @unique
}
